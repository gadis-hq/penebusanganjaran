<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Admin - GADIS QS HQ</title>
    
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#d4af37">
    
<link rel="stylesheet" href="css/style.css">

<style>
body{
    margin:0;
    font-family:Segoe UI, sans-serif;
    background:linear-gradient(135deg,#1a001f,#330033);
    color:white;
}

.header{
    padding:20px;
    background:rgba(255,0,150,0.1);
    backdrop-filter:blur(10px);
    display:flex;
    justify-content:space-between;
    align-items:center;
}

h1{
    color:#ff4da6;
    margin:0;
}

button{
    background:linear-gradient(45deg,#ff0080,#ff4da6);
    border:none;
    padding:10px 16px;
    border-radius:8px;
    color:white;
    font-weight:bold;
    cursor:pointer;
}

.container{
    padding:20px;
}

.card{
    background:rgba(255,255,255,0.05);
    padding:20px;
    border-radius:15px;
    margin-bottom:20px;
    box-shadow:0 0 20px rgba(255,0,150,0.2);
}
</style>

<script>
/* ===========================
   PROTECT DASHBOARD ACCESS
=========================== */
if(!localStorage.getItem("adminToken")){
    window.location.href="admin-login.html";
}
</script>

</head>
<body>

<div class="header">
    <h1>ðŸ’Ž Admin Dashboard</h1>
    <button onclick="logout()">Logout</button>
</div>

<div class="container">

    <div class="card">
        <h3>Status Sistem</h3>
        <p>Dashboard aktif dan dilindungi.</p>
    </div>

    <div class="card">
        <h3>Menu Cepat</h3>
        <p>
            <a href="semakkod.html" style="color:#ff4da6;">Semak Kod Siri</a>
        </p>
    </div>

</div>

<script>
function logout(){
    localStorage.removeItem("adminToken");
    window.location.href="admin-login.html";
}
</script>
    
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/service-worker.js')
    .then(() => console.log("Service Worker Registered"))
    .catch(err => console.log("SW Failed:", err));
}
<script>
/* ==========================
   ANTI SCREENSHOT PROTECTION
========================== */
function activateProtection() {

    const body = document.body;

    // Dynamic watermark overlay
    const wm = document.createElement("div");
    wm.style.position = "fixed";
    wm.style.top = "50%";
    wm.style.left = "50%";
    wm.style.transform = "translate(-50%, -50%) rotate(-30deg)";
    wm.style.fontSize = "40px";
    wm.style.opacity = "0.08";
    wm.style.pointerEvents = "none";
    wm.style.zIndex = "9999";
    wm.style.whiteSpace = "nowrap";
    wm.innerText = "GADIS QS HQ â€¢ " + new Date().toLocaleString();
    body.appendChild(wm);

    // Blur when tab inactive
    document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
            body.style.filter = "blur(12px)";
        } else {
            body.style.filter = "none";
        }
    });

    // Block PrintScreen (basic attempt)
    document.addEventListener("keyup", function(e) {
        if (e.key === "PrintScreen") {
            body.style.filter = "blur(15px)";
            setTimeout(() => body.style.filter = "none", 2000);
        }
    });

    // Disable right click
    document.addEventListener("contextmenu", e => e.preventDefault());

    // Disable Ctrl+P
    document.addEventListener("keydown", function(e){
        if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === "p") {
            e.preventDefault();
        }
    });

    // Detect DevTools open
    let devtools = false;
    setInterval(() => {
        const widthThreshold = window.outerWidth - window.innerWidth > 160;
        const heightThreshold = window.outerHeight - window.innerHeight > 160;
        if (widthThreshold || heightThreshold) {
            if (!devtools) {
                body.innerHTML = "<h1 style='text-align:center;margin-top:20%;'>âš  Sistem Dilindungi</h1>";
                devtools = true;
            }
        }
    }, 1000);
}

activateProtection();    
</script>    
</body>
</html>
